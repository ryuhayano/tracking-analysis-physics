<!--
  Physics Exam Lab - Tracking Analysis Software
  Copyright (c) 2025 一般社団法人 国際物理オリンピック2023記念協会
  Licensed under the Creative Commons BY-NC 4.0 International License.
  See https://creativecommons.org/licenses/by-nc/4.0/
-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tracking Analysis for Physics</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="main-container">
    <div class="control-panel">
      <span class="app-title"><img src="assets/images/logo.png" class="app-logo" alt="Logo"> Tracking Analysis for Physics</span>
      <div class="file-input-row">
        <label for="videoInput" class="file-input-label">ファイル選択</label>
        <input type="file" id="videoInput" accept="video/*">
        <div class="file-name-display" id="fileNameDisplay"></div>
        <button id="loadSampleVideo" type="button">サンプル動画</button>
        <a href="USAGE_GUIDE.html" target="_blank" class="guide-link">
          <span>❓</span> 使い方ガイド
        </a>
      </div>
      <div class="control-grid">
        <div class="control-section">
          <button id="setOriginBtn">原点設定</button>
          <button id="setScaleBtn">スケール設定</button>
          <button id="startTrackingBtn">追跡開始</button>
        </div>
        <div class="control-section">
          <label for="objectCountSelect">物体数</label>
          <select id="objectCountSelect">
            <option value="1" selected>1</option>
            <option value="2">2</option>
          </select>
          <label for="frameIntervalSelect">フレーム間隔</label>
          <select id="frameIntervalSelect">
            <option value="1" selected>1</option>
            <option value="2">2</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="50">50</option>
          </select>
        </div>
        <div class="control-section">
          <button id="playBtn">▶再生</button>
          <button id="pauseBtn">■停止</button>
          <button id="prevFrameBtn">⏪戻る</button>
          <button id="nextFrameBtn">⏩進む</button>
        </div>
        <div class="control-section">
          <label>FPS: <input type="text" id="fpsInput" value="30"></label>
        </div>
        <div class="control-section">
          <label>開始: <input type="text" id="startFrameInput"></label>
          <label>終了: <input type="text" id="endFrameInput"></label>
        </div>
        <div class="control-section">
          <button id="undoBtn" style="display:none;">Undo</button>
          <button id="exportCsvBtn">CSV出力</button>
          <button id="resetBtn">やり直し</button>
        </div>
      </div>
      <div class="frame-info">
        <span id="currentFrameLabel">現在フレーム: 0</span>
      </div>
    </div>
    <div class="video-container">
      <video id="video" width="640" height="480" controls style="display:none;"></video>
      <canvas id="videoCanvas" width="640" height="480"></canvas>
      <input type="range" id="frameSlider" min="0" max="100" value="0" step="1">
    </div>
  </div>
  <div class="license-info">
    © 2025 一般社団法人 国際物理オリンピック2023記念協会 – CC BY-NC 4.0
  </div>
  <script src="main.js"></script>
  <script>
document.getElementById('loadSampleVideo').onclick = function() {
  const video = document.getElementById('video');
  video.src = 'assets/videos/5cups.mov';
  video.load();
  
  // サンプル動画のファイル名を表示
  const fileNameDisplay = document.getElementById('fileNameDisplay');
  console.log('Sample video loaded');
  console.log('fileNameDisplay element:', fileNameDisplay);
  fileNameDisplay.textContent = '5cups.mov (サンプル動画)';
  
  // UIリセットやガイド表示は必要に応じて追加
};
</script>
</body>
</html>


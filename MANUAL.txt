【Tracking Analysis for Physics】

---

■ ライセンス・著作権
このソフトウェアは Creative Commons 表示-非営利 4.0 国際ライセンス（CC BY-NC 4.0）のもとで公開されています。
- 教育利用・非営利利用は自由です
- 商用利用は禁止されています
- 詳細なライセンス情報は README.md または LICENSE ファイルをご覧ください

著作権: © 2025 一般社団法人 国際物理オリンピック2023記念協会

---

■ 概要
スマホ等で撮影した動画やサンプル動画を使い、物体の位置と時間を手動で記録・CSV出力できる物理実験用トラッキングWebアプリです。ブラウザだけで動作し、インストール不要。教育現場（Chromeブック等）でも利用できます。

---

■ 主な機能（2025年7月時点）
- 動画ファイルの読み込み（mp4, mov等）・サンプル動画（5cups.mov）をワンクリックで練習可能
- 原点・スケール（長さ・回転）設定（任意の2点＋実長数値入力）
- フレームレート・解析範囲（開始・終了フレーム）・フレーム間隔の指定
- ズーム・ドラッグによる動画拡大・移動
- 手動トラッキング（クリックで物体位置を記録、1物体/2物体対応、Undo/やり直し）
- - 原点・スケール設定時のキャンセル機能（ESCキーまたはキャンセルボタン）
- - スケール設定時の視覚的改善（始点・終点間の直線表示、距離表示）
- 記録データのCSV出力（秒単位、ヘッダー付き、小数点以下3桁、画面表示と一致）
- UIは日本語対応、全角数字も自動変換、数字以外はエラー表示
- ウィンドウリサイズや縦長動画にも対応
- - iPad Sidecar（外部ディスプレイ）やMacのウィンドウリサイズ時も、UI・動画表示が最適化されるレスポンシブデザイン
- サンプル動画・操作例付きの使い方ガイド（USAGE_GUIDE.html）を同梱

---

■ 使い方（簡易版）
1. サンプル動画で練習する場合は「サンプル動画を読み込む」ボタンを、手持ちの動画を使う場合は「Choose File」ボタンで動画を選択
2. 動画を開いたら「フレームレート(fps)」を入力（例：120）。スライダーで内容を確認し、必要に応じて「解析開始」「解析終了」も設定
3. 「原点設定」→canvas上で原点（例：解析開始フレームでの物体の位置）をクリック
4. 「スケール設定」→canvas上でスケールの始点・終点（例：テープメジャーの0cmと100cm）をクリック→実長（例：1.0、単位はm）を数値のみ入力
5. 「フレーム間隔」を入力（例：10）
6. 「追跡開始」→物体の位置をクリックして記録（物体数2の場合は順にクリック）
7. Undo/やり直しも可能
8. 「CSV出力」で記録データをダウンロード

※詳細な手順・画像付きガイドはUSAGE_GUIDE.htmlを参照してください。

---

■ サンプル動画・ガイド
- サンプル動画（5cups.mov）を同梱。ワンクリックで練習・体験可能
- 画像付きの使い方ガイド（USAGE_GUIDE.html）を同梱。初めての方はまずこちらを参照

---

■ 配布・動作環境
- すべてのファイル（index.html, main.js, style.css, 5cups.mov, USAGE_GUIDE.html, 画像類）を同じフォルダにまとめて配布
- index.htmlをブラウザ（Chrome, Edge, Firefox, Safari, Chrome OS等）で開くだけで動作
- GitHub Pages等でWeb公開も可能
- - iPadのSidecar機能や、MacのSafari/Chrome等でウィンドウサイズを変更した場合も、UI・動画表示が崩れにくい設計

---

■ 既知の課題・今後の展望（2025年7月時点）
- 自動トラッキング（画像処理）は未実装
- 英語UI対応、記録データのグラフ表示は未実装
- 物体数のさらなる拡張（2物体以上）
- 記録点のやり直し・削除機能の強化

---

■ バージョン履歴
- 2024年7月：複数物体手動追跡・Undo/UI・フレーム間隔機能版 完成
- 2025年7月14日：サンプル動画・画像付きガイド・UI/UX改善・Chromeブック等教育現場対応など大幅アップデート
- 2025年7月19日: iPad SidecarやMacのウィンドウリサイズ時のレスポンシブUI最適化
- 2025年7月19日: 原点・スケール設定のキャンセル機能追加、スケール設定の視覚的改善

---

■ 関連ファイル・リンク
- README.md: プロジェクト概要・ライセンス詳細（GitHub表示用）
- USAGE_GUIDE.html: 画像付き詳細操作ガイド
- LICENSE: ライセンス全文
- GitHub: https://github.com/ryuhayano/tracking-analysis-physics

---
